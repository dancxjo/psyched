{
  "version": 1,
  "actions": [
    {
      "name": "face_detections_stream",
      "description": "Stream FaceDetections messages emitted on /vision/faces.",
      "kind": "stream-topic",
      "defaults": {
        "topic": "/vision/faces",
        "message_type": "faces_msgs/msg/FaceDetections",
        "role": "subscribe",
        "queue_length": 10
      }
    },
    {
      "name": "face_trigger_stream",
      "description": "Stream face sensation events emitted on /sensations.",
      "kind": "stream-topic",
      "defaults": {
        "topic": "/sensations",
        "message_type": "psyched_msgs/msg/SensationStamped",
        "role": "subscribe",
        "queue_length": 10
      }
    },
    {
      "name": "tag_face",
      "signature": "tag_face(face_id: str, label: str, identity_id: str | None = None, aliases: list[str] = [])",
      "description": "Tag an existing face memory with a human-friendly identity label.",
      "kind": "python-handler",
      "defaults": {
        "callable": "modules.faces.cockpit.actions:tag_face_action",
        "service": "/memory/tag_identity",
        "service_type": "memory_interfaces/srv/TagIdentity",
        "timeout_ms": 8000
      },
      "parameters": {
        "type": "object",
        "properties": {
          "face_id": {
            "type": "string",
            "minLength": 1,
            "description": "Memory identifier for the face embedding to label."
          },
          "label": {
            "type": "string",
            "minLength": 1,
            "description": "Human readable label to associate with the face."
          },
          "identity_id": {
            "type": "string",
            "description": "Optional identity identifier override; defaults to a slugified value."
          },
          "aliases": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Additional aliases that should be linked to the identity."
          }
        },
        "required": ["face_id", "label"],
        "additionalProperties": false
      }
    }
  ]
}

{
  "version": 1,
  "actions": [
    {
      "name": "memorize_event",
      "signature": "memorize_event(kind: str, data: dict, flush: bool = True)",
      "description": "Persist a structured memory event with optional immediate flush control.",
      "kind": "python-handler",
      "defaults": {
        "callable": "modules.memory.cockpit.actions:memorize_event_action",
        "service": "/memory/memorize",
        "service_type": "memory_interfaces/srv/Memorize"
      },
      "parameters": {
        "type": "object",
        "properties": {
          "kind": {
            "type": "string",
            "description": "Memory collection kind (e.g. episodic, semantic).",
            "minLength": 1
          },
          "data": {
            "type": "object",
            "description": "JSON-serialisable payload describing the memory contents.",
            "additionalProperties": true
          },
          "flush": {
            "type": "boolean",
            "description": "Set false to batch vector updates instead of forcing an immediate write.",
            "default": true
          }
        },
        "required": ["kind", "data"],
        "additionalProperties": false
      }
    },
    {
      "name": "recall_text",
      "signature": "recall_text(query: str, k: int = 5, kind: str = 'episodic')",
      "description": "Search stored memories using a natural-language query.",
      "kind": "python-handler",
      "defaults": {
        "callable": "modules.memory.cockpit.actions:recall_text_action",
        "service": "/memory/recall",
        "service_type": "memory_interfaces/srv/Recall"
      },
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Natural language query text used to drive vector recall.",
            "minLength": 1
          },
          "k": {
            "type": "integer",
            "description": "Maximum number of results to return (default 5).",
            "minimum": 1,
            "maximum": 50,
            "default": 5
          },
          "kind": {
            "type": "string",
            "description": "Memory collection kind to search (default 'episodic')."
          }
        },
        "required": ["query"],
        "additionalProperties": false
      }
    }
  ]
}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Psyched Pilot – Module Configuration</title>
    <link rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Crect width='16' height='16' fill='%230055ff'/%3E%3Ctext x='8' y='12' font-size='9' text-anchor='middle' fill='%23ffffff'%3E%CE%A8%3C/text%3E%3C/svg%3E" />
    <link rel="stylesheet" href="/styles.css" />
  </head>

  <body class="lcars-body config-page">
    <aside class="lcars-nav config-nav">
      <div class="nav-title">Module Config</div>
      <a class="nav-button nav-button--link" href="/">
        <span class="nav-index">⟵</span>
        <span class="nav-label">Back to Dashboards</span>
      </a>
      <p class="config-nav__hint">
        Adjust module launch options and environment variables directly from the pilot. Saved changes are written to the host
        manifest immediately.
      </p>
    </aside>

    <main class="lcars-main config-main">
      <header class="lcars-hero config-hero">
        <div>
          <h1>Module Configuration Console</h1>
          <p>
            Review and update the host manifest without leaving the cockpit. Each module exposes its launch settings in a
            structured editor—submit a change to persist it instantly.
          </p>
          <p class="config-hero__hint">
            Values must be valid JSON. Empty editors clear the module override while keeping the module listed on the host.
          </p>
        </div>
      </header>

      <section class="config-toolbar" aria-label="Configuration actions">
        <div class="config-toolbar__actions">
          <button type="button" class="config-action" data-role="refresh">
            Refresh from host manifest
          </button>
          <button type="button" class="config-action" data-role="git-pull">
            Git pull latest
          </button>
          <div
            class="config-toolbar__group"
            role="group"
            aria-label="Bulk module lifecycle operations"
          >
            <button
              type="button"
              class="config-action"
              data-role="psh-operation"
              data-operation="module-setup"
            >
              psh mod setup
            </button>
            <button
              type="button"
              class="config-action"
              data-role="psh-operation"
              data-operation="module-up"
            >
              psh mod up
            </button>
            <button
              type="button"
              class="config-action"
              data-role="psh-operation"
              data-operation="module-down"
            >
              psh mod down
            </button>
          </div>
        </div>
        <span class="config-status" role="status" aria-live="polite"></span>
      </section>

      <div id="config-app" class="config-app" aria-live="polite"></div>
    </main>

    <script type="module" src="/config/app.js"></script>
  </body>
</html>
